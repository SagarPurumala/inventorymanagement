package com.capg.inventory.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.RestController;

import com.capg.inventory.beans.Product;
import com.capg.inventory.response.MerchantResponse;
import com.capg.inventory.service.MerchantService;

@RestController
@CrossOrigin(origins = "*", allowedHeaders = "*", allowCredentials = "true")
public class MerchantController {
	@Autowired
	private MerchantService service;
	
	public Product getProduct(String productId) {
		Product flightInformation = service.getFlight(productId);
		MerchantResponse response = new MerchantResponse();
		if (flightInformation != null) {
			response.setStatusCode(210);
			response.setMessage("Success! Flight information retrived successfully.");
			response.setDescription("Flight information found successfully for the flightNo. : " + flightNumber);
			response.setFlightInformation(flightInformation);
		} else {

			response.setStatusCode(401);
			response.setMessage("Oops! Unable to retrived flight information.");
			response.setDescription(" Flight information not found for the Flight Number : " + flightNumber);

		}
		return response;
	}

}

